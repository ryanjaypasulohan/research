$(document).ready(function () {
  $(".nav_toggle_button"), $(".nav_toggle_button i");
  var e = $(".page_nav li span"),
    a = $(".page_nav"),
    s = $(".page_nav ul ul"),
    t = $(document).height(),
    r = $(window).width();
  function i() {
    r <= 800
      ? ($(".main_logo").insertAfter(".logo_wrap"), $("#nav_area").insertBefore("header"))
      : r <= 1010
      ? ($(".main_logo").insertBefore(".header_info"), $("#nav_area").insertAfter("header"))
      : ($(".main_logo").insertBefore(".header_info"), $("#nav_area").insertBefore("header"));
  }
  function l() {
    var e = $("#submit_formmessage .form_email").val();
    /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e)
      ? ($("#submit_formmessage .form_email").removeClass("FormReq"), $("#invalid-msg").hide())
      : ($("#submit_formmessage .form_email").addClass("FormReq"),
        $("#invalid-msg").show(),
        $("#invalid-msg").html("Please enter a valid email address."));
  }
  $("main * :not('h1')")
    .not(".woocommerce *")
    .each(function () {
      $(this).html(
        $(this)
          .html()
          .replace(/Triumphant Care Solutions LLC/g, "<mark class='comp'>$&</mark>")
          .replace(
            /(?![^<]+>)((\+\d{1,2}[\s.-])?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{6})/g,
            "<mark class='main_phone'>$&</mark>"
          )
          .replace(
            /(?![^<]+>)((\+\d{1,2}[\s.-])?\(?\d{3}\)?[\s.-]?\d{4}[\s.-]?\d{4})/g,
            "<mark class='main_phone'>$&</mark>"
          )
          .replace(
            /(?![^<]+>)((\+\d{1,2}[\s.-])?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4})/g,
            "<mark class='main_phone'>$&</mark>"
          )
      );
    }),
    $("main a[href]").each(function () {
      var e = $(this).attr("href").replace("<mark class='comp'>", "").replace("</mark>", "");
      $(this).attr("href", e);
    }),
    $("main").find("#myframe").length > 0 &&
      (document.getElementById("myframe").onload = function () {
        calcHeight();
      }),
    $(".page_nav li:has(ul)").find("span i").addClass("fa-caret-down"),
    e.click(function () {
      $(this)
        .parent("li")
        .siblings("li")
        .children("ul")
        .slideUp(400, function () {
          $(this).removeAttr("style");
        }),
        $(this)
          .parent("li")
          .siblings("li")
          .find(".fa")
          .removeClass("fa-caret-up")
          .addClass("fa-caret-down"),
        $(this).parent("li").children("ul").slideToggle(),
        $(this).children().toggleClass("fa-caret-up").toggleClass("fa-caret-down");
    }),
    $(".hamburger").click(function () {
      a.addClass("toggle_right_style"),
        $(".toggle_right_nav").addClass("toggle_right_cont"),
        $(".nav_toggle_button").toggleClass("active"),
        $(".hamburger").toggleClass("is-active"),
        $("body").addClass("active");
    }),
    $(".toggle_nav_close, .menu_slide_right .hamburger").click(function () {
      a.removeClass("toggle_right_style"),
        s.removeAttr("style"),
        e.children().removeClass("fa-caret-up").addClass("fa-caret-down"),
        $(".toggle_right_nav").removeClass("toggle_right_cont"),
        $(".nav_toggle_button").removeClass("active"),
        $(".hamburger").removeClass("is-active"),
        $("body").removeClass("active");
    }),
    i(),
    $(window).resize(function () {
      (r = $(this).width()),
        i(),
        r > 800
          ? ($(".nav_toggle_button").removeClass("active"),
            $(".hamburger").removeClass("is-active"),
            a.removeClass("toggle_right_style"),
            $(".toggle_right_nav").removeClass("toggle_right_cont"),
            $("body").removeClass("active"))
          : (s.removeAttr("style"),
            e.children().removeClass("fa-caret-up").addClass("fa-caret-down"));
    }),
    $(".rslides").responsiveSlides(),
    $(".box_skitter_large").skitter({
      theme: "minimalist",
      numbers_align: "center",
      progressbar: !1,
      navigation: !1,
      numbers: !1,
      dots: !1,
      preview: !1,
      interval: 3e3,
    }),
    $(".back_top").click(function () {
      return $("html, body").animate({ scrollTop: 0 }, 900), !1;
    }),
    $(window).scroll(function () {
      $(this).scrollTop() > 0.5 * t && r <= 600
        ? $(".back_top").fadeIn()
        : $(".back_top").fadeOut(),
        $("body #at-share-dock").hasClass("at-share-dock")
          ? ($(".back_top").addClass("withAddThis_plugins"),
            $(".footer_btm").addClass("withAddThis_ftr_btm"))
          : ($(".back_top").removeClass("withAddThis_plugins"),
            $(".footer_btm").removeClass("withAddThis_ftr_btm"));
      var e = $(".tablink"),
        a = $(".item");
      e.click(function () {
        a.removeClass("show"),
          a.addClass("hide"),
          e.removeClass("active"),
          $(this).addClass("active");
        var s = $(this).attr("data-id"),
          t = a.filter('[data-id="' + s + '"]'),
          r = e.filter('[data-id="all"]');
        $(this).is(r)
          ? a.removeClass("hide").addClass("show")
          : (t.removeClass("hide"), t.addClass("show"));
      });
    }),
    $(".submitform").on("click", function (e) {
      "" == $(".form_fullname").val()
        ? ($(".form_fullname").addClass("FormReq"), e.preventDefault())
        : $(".form_fullname").removeClass("FormReq"),
        "" == $(".form_email").val()
          ? ($(".form_email").addClass("FormReq"), e.preventDefault())
          : $(".form_email").removeClass("FormReq"),
        "" == grecaptcha.getResponse() &&
          (document.querySelector("#g-recaptcha-response").setAttribute("required", "required"),
          $(".g-recaptcha iframe").addClass("FormReq").attr("id", "recaptcha"));
    }),
    $(".btm2_drop h6").click(function () {
      $(this).next().slideToggle().siblings(".btm2_drop div").slideUp(),
        $(this).toggleClass("sign").siblings(".btm2_drop h6").removeClass();
    }),
    $("#submit_formmessage .form_email").change(function () {
      l();
    }),
    $("#submit_formmessage .form_btn").on("click", function () {
      "" == $("#submit_formmessage .form_fullname").val()
        ? $("#submit_formmessage .form_fullname").addClass("FormReq")
        : $("#submit_formmessage .form_fullname").removeClass("FormReq"),
        "" == $("#submit_formmessage .form_email").val()
          ? $("#submit_formmessage .form_email").addClass("FormReq")
          : l(),
        "" == grecaptcha.getResponse() &&
          (document.querySelector("#g-recaptcha-response").setAttribute("required", "required"),
          $(".g-recaptcha iframe").addClass("FormReq").attr("id", "recaptcha"));
    }),
    $("#success .close").click(function () {
      $("#success").fadeOut(), $("#recaptcha-error").fadeOut();
    }),
    $(".rclose").click(function () {
      $("#recaptcha-error").fadeOut();
    }),
    $("#error-msg .error-close").click(function () {
      $("#error-msg").fadeOut();
    }),
    $(".accord h6").click(function () {
      $(this).next().slideToggle().siblings(".accord div").slideUp(),
        $(this).toggleClass("sign").siblings(".accord h6").removeClass();
    }),
    $(" .commentlist li:last-child").css("background", "none"),
    $(".commentlist li ul li").css("background", "none"),
    $(".commentlist li ul li:last-child").css("border-bottom", "none"),
    $(".comment-form input[type='submit']").click(function () {
      "" == $("#author").val()
        ? $("#author").addClass("testimonialreq")
        : $("#author").removeClass("testimonialreq"),
        "" == $("#email").val()
          ? $("#email").addClass("testimonialreq")
          : $("#email").removeClass("testimonialreq"),
        "" == $("#comment").val()
          ? $("#comment").addClass("testimonialreq")
          : $("#comment").removeClass("testimonialreq");
    });
});
